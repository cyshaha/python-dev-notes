# python并发编程

## 1.CPU密集型和IO密集型

**CPU密集型**

也叫计算密集型，是指IO再很短时间可以完成，CPU需要大量计算和处理，特点是CUP占有率高。

例如压缩解压缩，加密解密，正则表达式搜索

**IO密集型**

指系统大部分的状况是CPU再等IO（硬盘/内存）的读写操作，CPU占有率仍然较低。

例如文件处理程序，网络爬虫、数据库读写。



## 2.多进程、多线程、多协程

**进程Process（multiprocessing）**

优点：可以使用多核CPU并行计算

缺点：占用资源最多，可启动数目比线程少

适用于：CPU密集型计算

通信方式：需要一定媒介进行通信，如socket，管道，文件，共享内存

上下文切换性能稍慢：由操作系统决定切换方式，不够灵活

**线程Thread（threading）**

一个进程可以启动多个线程

优点：相比进程，更轻量级，占用资源少

缺点：相比进程，多线程智能并发执行，不能利用多CPU（GIL）
			相比协程，启动数目有限制，占用内存资源，有线程切换开销

适用：IO密集型计算，同时运行的任务数量要求不多

通信方式：直接通信，非常方便

上下文切换性能稍快：由python解释器控制切换，不够灵活

**协程Coroutine（asyncio）**

一个线程可以启动多个协程

优点：内存开销最小，可启动数目最多

缺点：支持的库有限制，代码实现复杂

适用：IO密集型计算，需要超多任务运行

通信方式：直接通信，非常方便

上下文切换性能非常好：切换方式由开发者掌握，非常灵活

